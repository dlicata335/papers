
\newcommand{\diag}[1]{\ensuremath{\overline{#1}}}

\newcommand{\wftype}[2]{\ensuremath{\ctx{#1} \vdash \dcd{#2} \: \dsd{type}}}
\newcommand{\wfglob}[4]{\ensuremath{\ctx{#1} \vdash \dcd{#2} \: \dsd{glob}^{#3}_{\dcd{#4}}}}
\newcommand{\wfdepglob}[4]{\ensuremath{\ctx{#1} \vdash \dcd{#2} \: \dsd{depglob}^{#3}_{\dcd{#4}}}}
\newcommand{\ofglob}[3]{\ensuremath{\ctx{#1} \vdash \dcd{#2} : {#3}}}
\newcommand{\Apn}[3]{\ensuremath{\dsd{Ap}^{#1} \: {#2} \: {#3}}}
\newcommand{\apn}[3]{\ensuremath{\dsd{ap}^{#1} \: {#2} \: {#3}}}
\newcommand{\Apnm}[4]{\ensuremath{\dsd{Ap}^{#1}_{#2} \: {#3} \: {#4}}}
\newcommand{\apnm}[4]{\ensuremath{\dsd{ap}^{#1}_{#2} \: {#3} \: {#4}}}
\newcommand{\Apdnm}[4]{\ensuremath{\dsd{Apd}^{#1}_{#2} \: {#3} \: {#4}}}
\newcommand{\apdnm}[4]{\ensuremath{\dsd{apd}^{#1}_{#2} \: {#3} \: {#4}}}

\newcommand{\wfdiag}[1]{\ensuremath{\ctx{#1} \: \dsd{diag}}}
\newcommand{\wfdglob}[3]{\ensuremath{\ctx{#1} \vdash \dcd{#2} \: {\dsd{dglob}^{#3}}}}

\newcommand{\wfctx}[2]{\ensuremath{\ctx{#1} \: \dsd{ctx}^#2}}

\newcommand{\coh}[3]{\ensuremath{\dsd{coh}_{#1} \dcd{(#2;#3)}}}
\newcommand{\depcoh}[3]{\ensuremath{\dsd{depcoh}_{#1} \dcd{(#2;#3)}}}
\newcommand{\dcoh}[2]{\ensuremath{\dsd{coh}_{#1} \dcd{#2}}}

\newcommand{\base}[1]{\dsd{base}_{#1}}
\newcommand{\lp}[1]{\dsd{loop}_{#1}}
\newcommand{\baseT}{\dsd{base_T}}
\newcommand{\pT}{\dsd{p_T}}
\newcommand{\qT}{\dsd{q_T}}
\newcommand{\fT}{\dsd{f_T}}
\newcommand{\srec}[5]{\dsd{S^{#1}\text{-}rec}_{#2}(#3,#4,#5)}

\newcommand\cons[3]{\ensuremath{#1 \mathbin{,} \tptmns{#2}{#3}}}
\newcommand\ctx[1]{\text{\ensuremath{#1}}}
\newcommand\ite[4]{\ensuremath{\dsd{if}_{#1}(\dcd{#2},\dcd{#3},\dcd{#4})}}
\newcommand\tsubst[2]{\ensuremath{\dcd{#1} [ #2 ]}}
\newcommand\abort[1]{\ensuremath{\dsd{abort} \, \dcd{#1}}}

\newcommand\wfsub[3]{\ensuremath{#1 \vdash #2 : #3}}
\newcommand\homj[3]{\ensuremath{#2 =_{#1} #3}}
\newcommand\dhomj[4]{\ensuremath{#2 =^{#1}_{#4} #3}}

%% reflexivity
\newcommand\id[1]{\ensuremath{\dsd{id}_{#1}}}
\newcommand\ids[0]{\ensuremath{\dsd{id}}}
\newcommand\idt[2]{\ensuremath{\ids^{#1}_{#2}}}

\newcommand\comp[2]{\ensuremath{#1 \circ #2}}
\newcommand\inv[1]{\ensuremath{{#1}^{\mathord{-}1}}}

%% \newcommand\ofhomj[4]{\ensuremath{#1 : \homj{#2}{#3}{#4}}}
%% \newcommand\ofhom[5]{\ensuremath{#1 \vdash #2 : \homj{#3}{#4}{#5}}}

\newcommand\transport[3]{\ensuremath{\dsd{transport}_{#1} \ #2 \ #3}}

\newcommand\set[0]{\dsd{set}}
\newcommand\typ[1]{\dsd{type}_{#1}}
\newcommand\el[1]{\ensuremath{El(#1)}}

\newcommand\idtp[3]{\ensuremath{\dsd{Id}_{#1} \ #2 \ #3}}
\newcommand\subst[3]{\ensuremath{#1 [ #2 / #3]}}

\newcommand\ap[3]{\ensuremath{\dsd{ap}^{#1} \ {#1} \ #2}}

\newcommand{\deq}[3]{\ensuremath{#1\,\vdash\,\tp{#2} \, \equiv \, \tp{#3}}}
\newcommand{\deqctx}[2]{\ensuremath{#1 \equiv #2}}


%% literate Agda
\newcommand{\ignore}[1]{}
\newcommand{\noagda}[0]{} %% a marker to tell literate agda to ignore the code block

\newcommand{\FIXME}[1]{\textbf{FIXME:} #1}

\newcommand{\ttt}[1]{\texttt{#1}}

%% polarity
\newcommand{\ep}{\ensuremath{^{\text{\tiny +}}}}
\newcommand{\en}{\ensuremath{^{\text{\small -}}}}
\newcommand{\epn}{\ensuremath{^{\text{\tiny $\pm$}}}}
\newcommand\downshift[0]{\uparrow}
\newcommand\upshift[0]{\downarrow}

\newcommand\definit[0]{\: \mathbin{\text{iff}} \: }

\newcommand\co[1]{\ensuremath{\dcd{#1}\ep}}
\newcommand\contra[1]{\ensuremath{\dcd{#1}\en}}
\newcommand\cocon[1]{\ensuremath{#1 \epn}}
\newcommand\conco[1]{\ensuremath{#1 ^\mp}}


%% for categorical semantics
\newcommand\functp[2]{\ensuremath{#1 \longrightarrow #2}}
\newcommand\wffunc[3]{\ensuremath{#1 : \functp {#2} {#3}}}
\newcommand\arrtp[3]{\ensuremath{#2 \longrightarrow_{#1}  #3}}
\newcommand\wfarr[4]{\ensuremath{#1 : \arrtp{#2}{#3}{#4}}}
\newcommand\nttp[2]{\ensuremath{#1 \simeq #2}}
\newcommand\wfnt[5]{\ensuremath{#1 : \nttp {#2} {#3} : \functp {#4} {#5}}}
\newcommand\sty[1]{\ensuremath{\dsd {Ty} \ #1}}
\newcommand\stm[2]{\ensuremath{\dsd {Tm} \ #1 \ #2}}

\newcommand\oott{$\infty$TT}

\newcommand\iin[1]{\ensuremath{\dsd{in} \, #1}}
\newcommand\iout[1]{\ensuremath{\dsd{out} \, #1}}

\newcommand\mtext[1]{\text{\emph{#1}} \\ \\}
\newcommand\irl[1]{\text{\emph{#1}}}

\newcommand\eqv[5]{\ensuremath{\dsd{equiv}(#1,#2,#3,#4,#5)}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% basic expressions

% mathit for metavars
\newcommand{\dcd}[1]{\ensuremath{\mathit{#1}}}
% mathsf for operators
\newcommand{\dsd}[1]{\ensuremath{\mathsf{#1}}}
%% used for contexts and other places where you need to manually
%% knock something back into roman
\newcommand{\drd}[1]{\ensuremath{\mathrm{#1}}}

% term : type
\newcommand{\tptm}[2]{\ensuremath{\dcd{#1} \, \dcd{:} \, \dcd{#2}}}
\newcommand{\tptmns}[2]{\ensuremath{\dcd{#1} \dcd{:} \dcd{#2}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% constructing types and kinds

% an arrow type/kind
\newcommand{\arr}[3]{\ensuremath{\dcd{#1}\rightarrow \dcd{#2}}}
\newcommand{\arrr}[3]{\arr{#1}{{\arr{#2}{#3}}}}
\newcommand{\arrrr}[4]{\arr{#1}{{\arr{#2}{\arr{#3}{#4}}}}}

% dependent function classifier/kind with : 
\newcommand{\picl}[3]{\ensuremath{\textnormal{$\Pi$}\,\tptmns{#1}{#2}.\,\dcd{#3}}}
% dependent pair classifier with :
\newcommand{\sigmacl}[3]{\ensuremath{\textnormal{$\Sigma$}\,\tptmns{#1}{#2}.\,\dcd{#3}}}

% product type
\newcommand{\prd}[2]{\ensuremath{\dcd{#1} \times \dcd{#2}}}

% sum type
\newcommand{\sm}[2]{\ensuremath{\dcd{#1} + \dcd{#2}}}

% an untyped lambda 
\newcommand{\ulam}[2]{\dcd{\lambda\,#1.\,#2}}

% a typed lambda
\newcommand{\lam}[3]{\dcd{\lambda\,\tptmns{#1}{#2}.\,#3}}

% juxtaposition with spacing
% this doesn't get used just for application--also for some primitive
% constructors that have the same syntax, etc
\newcommand{\app}[2]{\dcd{#1 \: #2}}
\newcommand{\appp}[3]{\dcd{#1 \: #2 \: #3}}
\newcommand{\apppp}[4]{\dcd{#1 \: #2 \: #3 \: #4}}
\newcommand{\appppp}[5]{\dcd{#1 \: #2 \: #3 \: #4 \: #5}}
\newcommand{\apppppp}[6]{\dcd{#1 \: #2 \: #3 \: #4 \: #5 \: #6}}

% put parens around each arg, associating to the left
\newcommand{\lpapp}[2]{\dcd{#1\,(#2)}}
\newcommand{\lpappp}[3]{\dcd{#1(#2)(#3)}}
\newcommand{\lpapppp}[4]{\dcd{#1\,(#2)\,(#3)\,(#4)}}
\newcommand{\lpappppp}[5]{\dcd{#1\,(#2)\,(#3)\,(#4)\,(#5)}}
\newcommand{\lpapppppp}[6]{\dcd{#1\,(#2)\,(#3)\,(#4)\,(#5)\,(#6)}}

% put parens around args, associating to the right 
\newcommand{\rpapp}[2]{\dcd{#1\,(#2)}}
\newcommand{\rpappp}[3]{\dcd{#1\,(#2\,(#3))}}
\newcommand{\rpapppp}[4]{\dcd{#1\,(#2\,(#3\,(#4)})}
\newcommand{\rpappppp}[5]{\dcd{#1\,(#2\,(#3\,(#4\,(#5))))}}
\newcommand{\rpapppppp}[6]{\dcd{#1\,(#2\,(#3\,(#4\,(#5\,(#6)))))}}


\newcommand{\Lam}[3]{\dcd{\Lambda\tptmns{#1}{#2}.\,#3}}
\newcommand{\uLam}[2]{\dcd{\Lambda\,\dcd{#1}.\,#2}}

% juxtaposition with brackets 1[2]
\newcommand{\App}[2]{\lApp{}{#1}{#2}}
\newcommand{\Appp}[3]{\lAppp{}{#1}{#2}{#3}}
\newcommand{\Apppp}[4]{\lApppp{}{#1}{#2}{#3}{#4}}
\newcommand{\Appppp}[5]{\lAppppp{}{#1}{#2}{#3}{#4}{#5}}
\newcommand{\Apppppp}[6]{\lApppppp{}{#1}{#2}{#3}{#4}{#5}{#6}}

% bracket application with a level marker
\newcommand{\lApp}[3]{\dcd{#2[#3]_{#1}}}
\newcommand{\lAppp}[4]{\dcd{#2[#3][#4]_{#1}}}
\newcommand{\lApppp}[5]{\dcd{#2[#3][#4][#5]_{#1}}}
\newcommand{\lAppppp}[6]{\dcd{#2[#3][#4][#5][#6]_{#1}}}
\newcommand{\lApppppp}[7]{\dcd{#2[#3][#4][#5][#6][#7]_{#1}}}

% with a level marker
\newcommand{\pair}[2]{\ensuremath{\dcd{(#1,#2)}}}
\newcommand{\fst}[1]{\app{\dsd{fst}}{#1}}
\newcommand{\snd}[1]{\app{\dsd{snd}}{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% big-step (evaluation relation)
\newcommand{\evalsto}[2]{\ensuremath{\dcd{#1}\hookrightarrow\dcd{#2}}}

% small-step (transition system)
\newcommand{\step}[2]{\ensuremath{\dcd{#1}\mapsto \dcd{#2}}}
\newcommand{\stepsign}[0]{\mapsto}
% reflexive, transitive closures
\newcommand{\steprt}[2]{\ensuremath{\dcd{#1}\mapsto^{\ast}\dcd{#2}}}
% stuck
\newcommand{\stuck}[1]{\ensuremath{\dcd{#1}\not\mapsto}}

%value
\newcommand{\val}[1]{\ensuremath{\app{#1}{\dsd{value}}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% typing

% gamma proves t has type tau judgement
\newcommand{\oftp}[3]{\ensuremath{#1 \, \vdash \dcd{#2} \, \dcd{:} \, \dcd{#3}}}

% well-formed type
\newcommand{\wftp}[2]{\ensuremath{#1\,\vdash \dcd{#2}\:\dsd{type}}}
\newcommand{\wfkd}[2]{\ensuremath{#1\,\vdash \dcd{#2}\:\dsd{kind}}}

% subtyping 
\newcommand{\subtp}[2]{\ensuremath{\dcd{#1} <: \dcd{#2}}}

% definitional equality
\newcommand{\deqtm}[4]{\ensuremath{#1\,\vdash\,\dcd{#2} \, \equiv \, \dcd{#3} \, \dcd{:} \, \tp{#4}}}

%types
\newcommand{\deqtp}[3]{\ensuremath{#1\,\vdash\,\tp{#2} \, \equiv \, \tp{#3} \, \dsd{type}}}
\newcommand{\deqtpd}[2]{\deqtp{\Delta}{#1}{#2}}

% encodings 

\newcommand{\corners}[1]{\ensuremath{\,\ulcorner\dcd{#1}\urcorner\,}}
\newcommand{\acorners}[1]{\ensuremath{\,\llcorner\dcd{#1}\lrcorner\,}}
\newcommand{\church}[1]{\dcd{\overline{#1}}}
\newcommand{\namederiv}[2]{\ensuremath{#1 \, \dcd{::} \, #2}}



%%% Local Variables: 
%%% mode: plain-tex
%%% TeX-master: "paper"
%%% End: 
